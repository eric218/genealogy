package com.dct.swocean.controller;

import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.RestController;
import org.springframework.web.multipart.MultipartFile;

import com.dct.swocean.util.Response;
import com.dct.swocean.util.ResponseUtlis;
import com.dct.swocean.util.filehelper.FileResponse;
import com.dct.swocean.util.filehelper.FileUpload;

@RestController
@RequestMapping("/file")
public class FileController
{
    /**
     * 文件上传/断点续传
     * @param file
     * @param filepath
     * @return
     */
    @RequestMapping(value = "/upload", method = RequestMethod.POST)
    public Response<FileResponse> upload(@RequestParam("file") MultipartFile file,
            @RequestParam("filepath") String filepath)
    {
        FileResponse fileResponse = new FileResponse();
        fileResponse = FileUpload.upload(file, filepath);
        return ResponseUtlis.success(fileResponse);
    }
}
